/*
* MODULES
*/

a {
    text-decoration: none;
    color: $dark;
    transition: color 150ms ease-out;

    &:hover, &:focus {
        color:lighten($dark, 10%);
    }
}

.button {
    @include fs-b;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    display:inline-block;
    position:relative;
    padding:0.5em;

    &:after {
        content:'';
        display:block;
        height:1px;
        width:100%;
        background-color: currentColor;
        bottom:0;
        opacity:1;
        transition: opacity 200ms ease-out;
    }

    &:hover, &:focus {

        &:after {
            opacity: 0;
        }
    }
}

.link-underlined {
    text-decoration:underline;

    &:hover, &:focus {
        text-decoration: none;
    }
}

figure {
    padding:0;
    margin:0;
}

.fullw-img-wrapperÂ {
    position:relative;
}

.fullw-img {
    width:100%;
    height:auto;
    display:block;
}

.fullw-img-wrapper {
    display:flex;
    align-items:center;
    justify-content: center;
    
    figcaption {
        position:absolute;
        color:$white;
        @include ff-l;
        font-size:20px;
        font-size:calc(0.5rem + 1.1vw);
        text-align: center;

        @media screen and (min-width:1200px) {
            @include fs-h2; 
        }

        h2 {
            margin:0;
            padding:0 1em;
            text-align: center;
        }

        span {
            @include ff-i;
            letter-spacing:1px;
        }

        .button {
            color:$white;
            text-align: center;
            font-size:80%;

            @media screen and (min-width:768px) {
                font-size:70%;
            }
        }
    }
}

.fullw-img-wrapper--long-text {
    align-items:flex-start;
    
    figcaption {
        max-width: 28em;
        padding:0 $su;
        text-align: left;
        @include fs-xs;
        margin:$su/2 0;

        > * {
            font-size: 0.85rem;
        }

        @media screen and (min-width:360px) {
            
            > * {
                font-size: 1rem;
            }
        }
        
        @media screen and (min-width:420px) {
            margin:$su*3 0;
        }

        @media screen and (min-width:768px) {
            margin:$su*3 0;
            max-width:38em;
        }
        
        @media screen and (min-width:980px) {
            max-width: $mw;
            padding:0 $su*2;
            
            > * {
                margin-right:57%;
            }
        }
        
        @media screen and (min-width:1360px) {

            > * {
                margin-right:62%;
                font-size:1.2rem;
            }
        }
    }
}

.block__list {
    display:flex;
    justify-content: center;
    flex-wrap: wrap;

    @supports (display:grid) {
        display:grid;
        grid-template-columns:1fr;
        grid-row-gap: $su;
        max-width: 100%;
        
        @media screen and (min-width:768px) {
            grid-template-columns:repeat(auto-fit, minmax(216px, 1fr));
            grid-column-gap: $su;
            width:100%;
        }
    }
}

.block__item {
    padding:$su/2;
    box-sizing: border-box;

    @supports (display:grid) {
        padding:0;
    }

    @media screen and (min-width: 640px) {
        
        .block-list--3-cols & {
            max-width: 33.33%;
        }

        .block-list--4-cols & {
            max-width: 50%;
        }

        @supports (display:grid) {
            max-width:100%;
        }
    }

    @media screen and (min-width: 768px) {

        .block-list--4-cols & {
            max-width: 25%;
        }

        @supports (display:grid) {
            max-width:100%;
        }
    }

    &:hover, &:focus {

        figcaption {
            opacity:1;
        }
    }

    figure {
        position:relative;
        line-height: 0;
    }

    figcaption {
        display: flex;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        align-items: center;
        justify-content: center;
        color: $white;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        opacity:0;
        background-color:rgba($dark, 0.5);
        transition: background-color 200ms ease-out, opacity 200ms ease-out;

        @media screen and (min-width: 640px) and (max-width: 979px) {
            @include fs-s;
        }

        @media (hover: none) and (pointer: coarse) {
            opacity:1;
        }
    }
}

.block__img {
    display: block;

    img {
        width: 100%;
        height: auto;
    }
}

.hide {
    display:block;
    position: absolute;
    left:-99999px;
    clip-path: polygon(0px 0px,0px 0px,0px 0px,0px 0px);
}